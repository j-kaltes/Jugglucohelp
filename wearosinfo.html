<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>WearOS</title>
	<meta name="generator" content="LibreOffice 24.2.6.2 (Linux)"/>
	<style type="text/css">
		h2.cjk { font-family: "Droid Sans Fallback" }
		h2.ctl { font-family: "Droid Sans Devanagari" }
		h5.cjk { font-family: "Droid Sans Fallback" }
		h5.ctl { font-family: "Droid Sans Devanagari" }
	</style>
</head>
 <img src="wearosconfig.jpg"  style="object-fit:contain; width:15cm;                   height:auto;">
<body lang="en-US" dir="ltr"><h1>Wear OS</h1>
<p><strong>Direct sensor-watch connection</strong>: This determines
whether the watch should be directly connected with the sensor. This
can only be changed when watch and phone are in sync. Use
Mirror-&gt;Sync and Reinit on phone and watch, to sync phone and
watch.</p>
<p><strong>Init watch app</strong>: This should be pressed once after
Juggluco is installed on the WearOS watch and is running.</p>
<p><strong>Defaults</strong>: This sets the connection settings to
its default values. This has to do with the settings that can be
changed in Left menu-&gt;<a href="https://www.juggluco.nl/Jugglucohelp/connectionoverview.html">Mirror</a>
on the watch and left middle menu-&gt;Mirror on the phone. It
consists of settings like &quot;<i>Active only</i>&quot; and &quot;<i>Scans”</i>.
This button can be pressed when the settings have changed
accidentally by water of the shower or during sleep. If you reset by
reinstalling the watch version or clearing data, then you also need
to remove the mirror connection on the phone.</p>
<p>A special version of Juggluco can run directly on a Wear OS watch.
It needs an Android smartphone with NFC to scan the sensor and via a
TCP connection this data is sent to the Wear OS watch. Hereafter
there are two possibilities:</p>
<ol>
	<li><p>The sensor stays connected with the smartphone and the
	smartphone sends every glucose value it receives via Bluetooth to
	the Wear OS watch via TCP;</p></li>
	<li><p>It is also possible to directly connect the sensor with the
	Wear OS watch. For this you need a Wear OS watch with good Bluetooth
	connectivity.</p></li>
</ol>
<p>Some pictures are shown at <a href="https://www.juggluco.nl/JugglucoWearOS/index.html">https://www.juggluco.nl/JugglucoWearOS</a></p>
<p>To get it working do the following:</p>
<ul>
	<li><p>Ensure that both Bluetooth and WIFI are working on watch and
	phone;</p></li>
	<li><p>See that the watch has enough free storage space and RAM
	left. It is possible that Juggluco has to be reinstalled if the
	device runs out of storage space at a critical moment;</p></li>
	<li><p>Make the phone version of Juggluco working with the sensor.
	You have to scan the sensor a few times with &quot;<i>Sensor via
	Bluetooth</i>&quot; set;</p></li>
	<li><p><a href="https://www.juggluco.nl/JugglucoWearOS/install/adb.html">Install</a>
	the Wear OS version of Juggluco on your Wear OS watch and start it;</p></li>
	<li><p>On the phone, go to left menu-&gt;Watch-&gt;<a href="https://www.juggluco.nl/Jugglucohelp/wearosinfo.html">Wear
	OS Config</a>. Your watch should be displayed in the spinner. Press
	&quot;Init watch app&quot;;</p></li>
	<li><p>If everything went well, in both Juggluco's a TCP connection
	is configured and all data on the phone is sent to the watch. This
	can take a long time if you were using Juggluco for a long time, so
	that a lot of data has to be sent. You can check if the TCP
	connection is configured by looking in the mirror dialog (phone:
	left middle menu-&gt;<a href="https://www.juggluco.nl/Jugglucohelp/connectionoverview.html">Mirror</a>,
	watch: left-menu-&gt;Mirror). A connection with the same id as shown
	in the spinner for your watch should be shown. On the watch is
	should also contain the IP of the phone. If they are not there or
	the watch side doesn't contain an IP, press again on &quot;<i>Init
	watch app</i>&quot;. If it still isn't there, check the Bluetooth
	connection and the phone app responsible for the connection to your
	watch. (When the watch already has received data, pressing &quot;<i>Init
	watch app</i>&quot; has the effect of re-sending all data, so you
	could as well re-install the watch version of Juggluco. Later on, if
	the right IP is not shown, you should on the phone turn the external
	connection (WIFI or Mobile data) off and on.</p></li>
	<li><p>If everything went well, the same data, as displayed on the
	phone version of Juggluco, is displayed on the watch version of
	Juggluco. Every new glucose value received by the phone is sent via
	TCP to the watch. Some settings like unit, glucose alarm levels and
	reminders are also transmitted to the watch. Later changes should be
	made on the watch itself.</p></li>
	<li><p>If you have a smartwatch with good Bluetooth connectivity and
	you like to receive glucose values on your watch without having to
	carry your phone, you can connect the watch version of Juggluco
	directly with the sensor. After all values are sent to the watch,
	you can check <strong>&quot;Direct sensor-watch connection&quot;</strong>.
	By this, <i>&quot;sensor via Bluetooth&quot;</i> is turned off in
	the phone and turned on in the watch. The stream values are now sent
	from watch to phone as you can check in the Mirror dialog. You can't
	change &quot;Direct sensor-watch connection&quot; when watch and
	phone are not in sync.</p></li>
	<li><p>If you want to sent amounts from the watch to the phone, you
	should reverse the send-direction yourself in the mirror-dialog by
	unchecking it on the phone and checking it on the watch. On the
	phone &quot;<i>Receive from</i>&quot; should also be set. If
	everything isn't set exactly right, it doesn't work. &quot;Don't
	change amounts&quot; should be changed. The labels of <i>amounts </i>are
	always sent with the amounts. If you change the direction of the
	transmission of amounts from watch to phone, you can't change the
	labels;</p></li>
</ul>
<p>If the sensor has a direct Bluetooth connection with the watch and
it's values are sent to a smartphone, scanned values should also be
sent from the phone to the watch and the stream values should be
synced before scanning the sensor with Juggluco (the settings are
configured automatically this way.) Otherwise, old values could be
sent back to the watch or modified authentication information is not
sent to the watch, which will result in <i>Unlock key</i> errors.</p>
<p>Changes to the connection should also only be made when the data
is synchronized; the data on phone and watch should be complete
copies (with the exception that you can leave out all amount-data).</p>
<p>The first time, when a lot of data has to be transferred from
smartphone to watch, you can attach the watch to the charger: my
watch turns on WIFI when it is attached to the charger.</p>
<h2 class="western"><strong>Watch-Phone connection</strong></h2>
<p>The watch-phone connection is an adaptation of the mirror
connection that you can configure between phones running Juggluco and
computers running <a href="https://www.juggluco.nl/Juggluco/cmdline">Juggluco
server</a>. When the connection between phone and watch is
automatically generated in the above described manner it has the
following additions:</p>
<ul>
	<li><p>The IP of the other side of the connection is automatically
	determined. Normally you don’t have to do anything directly with
	the mirror connection. Instead you can use Left menu→Watch→WearOS
	config to change settings. The exception is when you want to enter
	numbers on the watch. Then you have to change the mirror settings
	manually as described under <a href="#enteronwatch"><i>Enter on
	watch</i></a>.</p></li>
	<li><p>If the WIFI connection between the phone and the watch
	doesn’t work, Juggluco switches to the use of TCP over Bluetooth.
	Except when a lot of data has to be sent to the watch on its first
	use, you can turn off WIFI on the watch.</p></li>
</ul>
<p style="margin-bottom: 0in">When no data is exchanged between
Juggluco on the phone and watch you can check the following:</p>
<ul>
	<li><p style="margin-bottom: 0in">Bluetooth should be turned on on
	the watch and phone (WIFI can be turned off);</p></li>
	<li><p style="margin-bottom: 0in">The companion app of the watch
	should display that the watch is connected to the phone;</p></li>
	<li><p style="margin-bottom: 0in">In Left menu→Mirror on the watch
	and left middle menu→Mirror on the phone there should be an
	automatically created connection entry with the identifier of the
	watch (the same identifier as displayed in Left menu→Watch→”WearOS
	config” on the phone.)</p></li>
	<li><p style="margin-bottom: 0in">Pressing Reinit and/or Sync in
	left menu→Mirror on the watch can help;</p></li>
	<li><p style="margin-bottom: 0in">Sometime you need to do the same
	on the phone. Thereafter you may need to do it again on the watch;</p></li>
	<li><p style="margin-bottom: 0in">Turning Bluetooth off-and-on on
	phone or watch can help. Hereafter you have again to press Reinit
	and Sync on the watch;</p></li>
	<li><p style="margin-bottom: 0in">Doing the same with WIFI or mobile
	data is sometimes needed;</p></li>
	<li><p style="margin-bottom: 0in">Sometimes a reboot of the phone
	and/or watch is needed to get Bluetooth working again;</p></li>
	<li><p style="margin-bottom: 0in">It is possible that somehow the
	settings in the mirror connection are changed to the wrong values.
	You can reset them to the original values by pressing left
	menu→Watch→”WearOS config”→Default on the phone. This has
	also the effect of connecting the sensor with the phone instead of
	the watch. Data only present on the watch will be overridden;</p></li>
	<li><p style="margin-bottom: 0in">If all else failed, you can
	reinstall the watch version and start anew. In that case you need to
	remove the existing watch connection under Left middle menu→Mirror.</p></li>
	<li><p style="margin-bottom: 0in">If somehow the data are missing on
	the phone, but are present on the watch, it is much more difficult.
	Somehow you first have to create a functioning mirror connection to
	receive the data on the phone.</p></li>
</ul>
<h2 class="western"><a name="enteronwatch"></a>Enter on watch</h2>
<p>If you enter amounts of insulin, carbohydrate and activities on
the watch, you can’t do that anymore on the phone. Also scanning of
insulin pens is no longer possible.</p>
<p>There is currently no single button for this. On both sides of the
mirror connection between the watch and the companion phone, you have
to make changes in the mirror settings. First make sure that phone
and watch are in sync, then do the following:</p>
<h5 class="western">PHONE:</h5>
<p>Go to Left middle menu→Mirror. Press on the watch connection and
then on <i>Modify</i>. Unset <i>Amounts</i> and see that <i>Receive
from</i> is checked. Hereafter press “<i>Save</i>” and then
“<i>Close</i>”. Set “<i>Mirror sends amounts</i>”.</p>
<h5 class="western">WATCH:</h5>
<p>Go to Left menu→Mirror. Press on the watch connection and then
on Modify. Set “<i>Amounts</i>”. Set “<i>Now</i>” as the time
point until which all data is already present on the phone. Hereafter
press “<i>Save</i>” and then “<i>Close</i>”. Unset “<i>Mirror
sends amounts</i>”.</p>
<h2 class="western"><strong>Watch face</strong></h2>
<p style="margin-bottom: 0in">Juggluco for Wear OS includes a watch
face that displays your current glucose level alongside the time and
up to four complications. To use it, you will need to select this
watch face in, for example, your watch companion app under
&quot;downloaded&quot;. Normally, you will see the last glucose value
when the screen wakes up. When the screen is in ambient (always on)
mode, the glucose value is only updated when the minute indicator is
raised, or when you press a button or raise your arm. So the
displayed value can be delayed by up to one minute. The watch face
cannot be used under WearOS 5 (Samsung Galaxy Watch 7 and Watch
Ultra, Pixel watch 3), as WearOS 5 does not allow programmed watch
faces in an effort to conserve battery life.</p>
<h2 class="western">Complication</h2>
<p>Juggluco 8.2.0 and higher contains a glucose value, glucose arrow
and arrow+value complication that can also be used under WearOS 5.
This can be used with every watch face that accepts a small or large
image complication.</p>
<h2 class="western">Floating glucose</h2>
<p>A third option in to turn on <i>Floating Glucose</i> in Juggluco's
settings on the watch. When Juggluco has the right permissions, a
glucose value is displayed over other apps. This way you can see your
current glucose value while using arbitrary watch faces or apps that
monitor your activity. For more information see, in the phone version
of Juggluco, left menu -&gt; Settings -&gt; <a href="https://www.juggluco.nl/Jugglucohelp/floatingconfig.html">Floating
glucose</a> -&gt; Help.</p>
<h2 class="western">Followers</h2>
<p style="margin-bottom: 0in">From the companion app you can again
send to other devices over the internet as described under Left
middle menu→<a href="https://www.juggluco.nl/Jugglucohelp/connectionoverview.html">Mirror</a>.
It is also possible to connect the watch directly to a server on the
internet and from that to a follower phone as described at:
<a href="https://www.juggluco.nl/Juggluco/cmdline/watch">https://www.juggluco.nl/Juggluco/cmdline/watch</a></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
</body>
</html>
